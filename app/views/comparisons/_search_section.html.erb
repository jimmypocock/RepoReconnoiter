<!-- Search Section (Signed In Users Only) -->
<%= form_with url: comparisons_path, method: :post, class: "space-y-6" do |f| %>
  <div class="relative">
    <%= f.text_field :query,
                 placeholder: "What library or tool are you looking for?",
                 class: "w-full px-6 py-5 text-lg border-2 border-gray-300 rounded-2xl focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",
                 autofocus: true,
                 required: true,
                 maxlength: 500 %>
  </div>

  <%= f.submit "Search",
           class: "w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-4 px-6 rounded-2xl text-lg transition-colors cursor-pointer",
           data: { turbo_submits_with: "Searching..." } %>

  <p class="text-xs text-gray-500 text-center mt-2">
    Each search analyzes up to 10 repositories using AI (~$0.05 per search)
  </p>
<% end %>

<!-- Example Queries -->
<div class="mt-10">
  <p class="text-sm text-gray-500 mb-3 text-center">Try these examples:</p>
  <div class="flex flex-wrap gap-2 justify-center">
    <% example_queries = [
      "Rails background job library with retry logic",
      "Python ORM for PostgreSQL",
      "React state management for large apps",
      "Go web framework",
      "Node.js testing framework",
    ] %>
    <% example_queries.each do |example| %>
      <%= form_with url: comparisons_path, method: :post, class: "inline" do |f| %>
        <%= f.hidden_field :query, value: example %>
        <%= f.submit example,
                 class: "px-4 py-2 bg-white border border-gray-300 rounded-full text-sm text-gray-700 hover:bg-gray-50 hover:border-gray-400 transition-colors cursor-pointer",
                 data: { turbo_submits_with: "Searching..." } %>
      <% end %>
    <% end %>
  </div>
</div>
