<!-- Quick Action Bar - Phase 5 -->
<%# Sticky action bar (desktop) + FAB menu (mobile) %>
<% if user_signed_in? %>
  <div data-controller="quick-actions">
    <!-- Desktop: Sticky buttons (bottom-right) -->
    <div class="hidden md:flex fixed bottom-6 right-6 gap-3 z-40">
      <button
        data-action="click->quick-actions#openComparison"
        class="group bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium shadow-lg hover:shadow-xl transition-all flex items-center gap-2"
      >
        <%= heroicon "magnifying-glass", variant: :outline, options: { class: "w-5 h-5" } %>
        <span>New Comparison</span>
      </button>

      <button
        data-action="click->quick-actions#openAnalysis"
        class="group bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-medium shadow-lg hover:shadow-xl transition-all flex items-center gap-2"
      >
        <%= heroicon "document-text", variant: :outline, options: { class: "w-5 h-5" } %>
        <span>Analyze Repo</span>
      </button>
    </div>

    <!-- Mobile: FAB + Menu -->
    <div class="md:hidden fixed bottom-6 right-6 z-40">
      <!-- FAB Button -->
      <button
        data-action="click->quick-actions#toggleMenu"
        class="bg-blue-600 hover:bg-blue-700 text-white w-14 h-14 rounded-full shadow-lg hover:shadow-xl transition-all flex items-center justify-center"
        aria-label="Open quick actions menu"
      >
        <%= heroicon "plus", variant: :outline, options: { class: "w-6 h-6" } %>
      </button>

      <!-- Backdrop -->
      <div
        data-quick-actions-target="backdrop"
        data-action="click->quick-actions#hideMenu"
        class="hidden fixed inset-0 bg-black bg-opacity-50 -z-10"
      ></div>

      <!-- Slide-up Menu -->
      <div
        data-quick-actions-target="menu"
        class="hidden fixed bottom-0 left-0 right-0 bg-white rounded-t-2xl shadow-2xl transform transition-transform duration-300 ease-out"
        style="z-index: -5;"
      >
        <div class="p-6 space-y-3">
          <div class="w-12 h-1 bg-gray-300 rounded-full mx-auto mb-4"></div>

          <button
            data-action="click->quick-actions#openComparison"
            class="w-full bg-blue-50 hover:bg-blue-100 text-blue-700 px-6 py-4 rounded-lg font-medium transition-colors flex items-center gap-3"
          >
            <%= heroicon "magnifying-glass", variant: :outline, options: { class: "w-6 h-6" } %>
            <span class="text-lg">New Comparison</span>
          </button>

          <button
            data-action="click->quick-actions#openAnalysis"
            class="w-full bg-purple-50 hover:bg-purple-100 text-purple-700 px-6 py-4 rounded-lg font-medium transition-colors flex items-center gap-3"
          >
            <%= heroicon "document-text", variant: :outline, options: { class: "w-6 h-6" } %>
            <span class="text-lg">Analyze Repository</span>
          </button>

          <button
            data-action="click->quick-actions#hideMenu"
            class="w-full bg-gray-100 hover:bg-gray-200 text-gray-700 px-6 py-4 rounded-lg font-medium transition-colors"
          >
            Cancel
          </button>
        </div>
      </div>
    </div>
  </div>
<% end %>
